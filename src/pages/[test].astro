---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import { getFullUrl } from "../utils/utils";

export async function getStaticPaths() {
  let strony: string[] = [];

  try {
    const res = await fetch(getFullUrl("/strony.json"));
    strony = await res.json();
  } catch (error) {
    console.log(error);
  }

  console.log(222222222, strony, getFullUrl("/strony.json"));
  // const strony = ["strona1", "strona2", "strona3"];

  return strony.map((strona) => ({
    params: {
      test: strona,
    },
    props: {
      strona,
    },
  }));
}

const { strona } = Astro.props;
---

<Layout>działą: {strona}</Layout>
