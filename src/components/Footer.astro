---
import CurrentYear from "../reactComponents/CurrentYear";
import { URLS } from "../urls/urls";

export interface FooterProps {
  title: string;
}

const { title } = Astro.props as FooterProps;
---

<footer class="bg-dark text-light text-center p-3">
  <div class="row">
    <div class="col-md-4">
      <h5>Dla admina</h5>
      <p>
        <a href="#" class="clear-session-storage text-decoration-none"
          >Wyczyść dane sesji</a
        >
      </p>
      <p class="screen-resolution"></p>
    </div>

    <div class="col-md-4">
      <h5>Polecane strony</h5>

      {
        [
          { label: "Regulamin", href: URLS.TERMS_AND_CONDITIONS },
          { label: "Polityka prywatności", href: URLS.PRIVACY_POLICY },
          { label: "Kontakt", href: URLS.CONTACT },
        ].map(({ label, href }) => (
          <p>
            <a href={href} class="text-decoration-none">
              {label}
            </a>
          </p>
        ))
      }
    </div>

    <div class="col-md-4">
      <h5>Obserwój nas</h5>
      <ul class="list-inline">
        <li class="list-inline-item">
          <a href="#"><i class="bi bi-facebook"></i></a>
        </li>
        <li class="list-inline-item">
          <a href="#"><i class="bi bi-twitter"></i></a>
        </li>
        <li class="list-inline-item">
          <a href="#"><i class="bi bi-instagram"></i></a>
        </li>
        <li class="list-inline-item">
          <a href="#"><i class="bi bi-linkedin"></i></a>
        </li>
        <li class="list-inline-item">
          <a href="#"><i class="bi bi-youtube"></i></a>
        </li>
      </ul>
    </div>
  </div>
  <p>Tytuł strony: {title}</p>
  <p>© Testy na prawo jazdy <CurrentYear client:load /></p>
</footer>

<style>
  .list-inline-item:hover a {
    color: #ffc107;
  }
</style>

<script>
  const clearButtons = document.querySelectorAll(".clear-session-storage");
  clearButtons.forEach((button) => {
    button.addEventListener("click", (e) => {
      e.preventDefault();
      sessionStorage.clear();
    });
  });

  const screenResolutions = document.querySelectorAll(".screen-resolution");
  const width = window.screen.width;
  const height = window.screen.height;

  screenResolutions.forEach((screenResolution) => {
    screenResolution.innerHTML = `${width}x${height}`;
  });
</script>
